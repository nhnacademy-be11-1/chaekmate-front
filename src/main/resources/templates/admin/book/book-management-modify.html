<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      th:replace="~{layout/layout :: html(~{::section})}">
<section>
    <div class="container-fluid">
        <div class="row px-xl-5">
            <div class="col-12">
                <h2 class="h2 font-weight-bold text-dark mb-4" th:text="${book.title} + ' 정보 수정'">도서 정보 수정</h2>
                <div class="card">
                    <form th:action="@{/admin/books/{id}/modify(id=${book.id})}" th:object="${book}" method="post">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <img th:src="${book.imageUrl}" class="img-fluid" alt="Thumbnail">
                                </div>
                                <div class="col-md-8">
                                    <div class="form-group">
                                        <label for="title">제목</label>
                                        <input type="text" id="title" name="title" class="form-control" th:value="${book.title}">
                                    </div>
                                    <div class="form-group">
                                        <label for="author">저자</label>
                                        <input type="text" id="author" name="author" class="form-control" th:value="${book.author}">
                                    </div>
                                    <div class="form-group">
                                        <label for="isbn">ISBN</label>
                                        <input type="text" id="isbn" name="isbn" class="form-control" th:value="${book.isbn}">
                                    </div>
                                    <div class="form-group">
                                        <label for="publishedAt">출판일</label>
                                        <input type="text" id="publishedAt" name="publishedAt" class="form-control" th:value="${book.publishedAt}">
                                    </div>
                                    <div class="form-group">
                                        <label for="price">정가</label>
                                        <input type="number" id="price" name="price" class="form-control" th:value="${book.price}">
                                    </div>
                                    <div class="form-group">
                                        <label for="salesPrice">판매가</label>
                                        <input type="number" id="salesPrice" name="salesPrice" class="form-control" th:value="${book.salesPrice}">
                                    </div>
                                    <div class="form-group">
                                        <label for="stock">재고</label>
                                        <input type="number" id="stock" name="stock" class="form-control" th:value="${book.stock}">
                                    </div>
                                    <div class="form-group">
                                        <label for="categories">카테고리</label>
                                        <input type="text" id="categories" name="categories" class="form-control" th:value="${#strings.listJoin(book.categoryNames, ', ')}" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="tags">태그</label>
                                        <input type="text" id="tags" name="tags" class="form-control" th:value="${#strings.listJoin(book.tagNames, ', ')}" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="description">설명</label>
                                        <textarea id="description" name="description" class="form-control" rows="5" th:text="${book.description}"></textarea>
                                    </div>
                                </div>
                                <hr>
                                <h4 class="h4">상세 이미지</h4>
                                <div class="row">
                                    <div class="col-md-3 mb-3" th:each="imageUrl : ${book.imageUrl}">
                                        <img th:src="${imageUrl}" class="img-fluid" alt="Detail">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <a th:href="@{/admin/books}" class="btn btn-secondary">취소</a>
                            <button type="submit" class="btn btn-primary">저장하기</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
</html>
