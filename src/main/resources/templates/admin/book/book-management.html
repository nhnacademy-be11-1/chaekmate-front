<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      th:replace="~{layout/layout :: html(~{::section})}">
<section>
    <div class="container-fluid">
        <div class="row px-xl-5">
            <div class="col-12">
                <h2 class="h2 font-weight-bold text-dark mb-4">도서 관리 대시보드</h2>

                <!-- Action Buttons -->
                <div class="mb-4">
                    <a href="/admin/books/new" class="btn btn-primary mr-2">도서 직접 추가</a>
                    <a href="/admin/books/aladin" class="btn btn-info">알라딘 도서 검색</a>
                </div>

                <!-- Recent Books List -->
                <h4 class="h4 font-weight-bold text-dark mb-3">최근 추가된 도서 (최대 5개)</h4>
                <div th:if="${#lists.isEmpty(recentBooks)}" class="alert alert-info">최근 추가된 도서가 없습니다.</div>
                <table class="table table-bordered text-center" th:unless="${#lists.isEmpty(recentBooks)}">
                    <thead class="thead-dark">
                    <tr>
                        <th>ID</th>
                        <th>이미지</th>
                        <th>제목</th>
                        <th>저자</th>
                        <th>가격</th>
                        <th>출판일</th>
                        <th>관리</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="book : ${recentBooks}">
                        <td th:text="${book.id}"></td>
                        <td><img th:src="${book.imageUrl()}" alt="도서 표지" style="width: 50px; height: auto;"></td>
                        <td th:text="${book.title}" class="text-left"></td>
                        <td th:text="${book.author}"></td>
                        <td th:text="${#numbers.formatInteger(book.price, 3, 'COMMA')}"></td>
                        <td th:text="${book.publishedAt}"></td>
                        <td>
                            <a th:href="@{/admin/books/{id}(id=${book.id})}" class="btn btn-sm btn-secondary">상세</a>
                            <a th:href="@{/admin/books/{id}/modify(id=${book.id})}" class="btn btn-sm btn-success">수정</a>
                            <a href="#" class="btn btn-sm btn-danger">삭제</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
</html>
